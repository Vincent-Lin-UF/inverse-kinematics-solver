import{S as Oe,i as Je,s as Ke,n as je,d as r,v as Re,w as b,x as c,e as ye,f as ne,h as e,y as $,z as s,A as qe,j as l,B as ee,m as d,k as T,l as y,C as Le,o as n,q as _,p as m}from"../chunks/CPTTglqx.js";import"../chunks/IHki7fMi.js";function ze(u){let p,v,R;return{c(){p=n("div"),v=m("Error: "),R=m(u[6]),this.h()},l(o){p=l(o,"DIV",{class:!0});var i=T(p);v=y(i,"Error: "),R=y(i,u[6]),i.forEach(r),this.h()},h(){s(p,"class","error svelte-1yshvwf")},m(o,i){ne(o,p,i),e(p,v),e(p,R)},p(o,i){i&64&&ye(R,o[6])},d(o){o&&r(p)}}}function Me(u){let p,v,R="Results",o,i,w,f,E,Z="71",ue,se=u[4].a71.toFixed(4)+"",D,F,L,k,te,z="7",ve,A=u[4].S7.toFixed(4)+"",G,he,M,B,h,Pe="1",Q,re=u[4].S1.toFixed(4)+"",q,me,N,le,pe,Te="71",W,H=u[4].al71_deg.toFixed(4)+"",de,X,be,S,we,O,ae="7",Ee,oe=u[4].th7_deg.toFixed(4)+"",J,Y,Ce,P,Ie,V,Se="1",x,K=u[4].gaml_deg.toFixed(4)+"",ie,_e;return{c(){p=n("div"),v=n("div"),v.textContent=R,o=_(),i=n("div"),w=n("span"),f=m("a"),E=n("sub"),E.textContent=Z,ue=m(" = "),D=m(se),F=_(),L=n("span"),k=m("S"),te=n("sub"),te.textContent=z,ve=m("  = "),G=m(A),he=_(),M=n("span"),B=m("S"),h=n("sub"),h.textContent=Pe,Q=m("  = "),q=m(re),me=_(),N=n("span"),le=m("α"),pe=n("sub"),pe.textContent=Te,W=m(" = "),de=m(H),X=m("°"),be=_(),S=n("span"),we=m("θ"),O=n("sub"),O.textContent=ae,Ee=m("  = "),J=m(oe),Y=m("°"),Ce=_(),P=n("span"),Ie=m("γ"),V=n("sub"),V.textContent=Se,x=m("  = "),ie=m(K),_e=m("°"),this.h()},l(j){p=l(j,"DIV",{class:!0,style:!0});var g=T(p);v=l(g,"DIV",{class:!0,"data-svelte-h":!0}),ee(v)!=="svelte-1798c9v"&&(v.textContent=R),o=d(g),i=l(g,"DIV",{class:!0});var U=T(i);w=l(U,"SPAN",{class:!0});var fe=T(w);f=y(fe,"a"),E=l(fe,"SUB",{"data-svelte-h":!0}),ee(E)!=="svelte-bcb0ic"&&(E.textContent=Z),ue=y(fe," = "),D=y(fe,se),fe.forEach(r),F=d(U),L=l(U,"SPAN",{class:!0});var ce=T(L);k=y(ce,"S"),te=l(ce,"SUB",{"data-svelte-h":!0}),ee(te)!=="svelte-jl32zd"&&(te.textContent=z),ve=y(ce,"  = "),G=y(ce,A),ce.forEach(r),he=d(U),M=l(U,"SPAN",{class:!0});var I=T(M);B=y(I,"S"),h=l(I,"SUB",{"data-svelte-h":!0}),ee(h)!=="svelte-gk2sgj"&&(h.textContent=Pe),Q=y(I,"  = "),q=y(I,re),I.forEach(r),me=d(U),N=l(U,"SPAN",{class:!0});var C=T(N);le=y(C,"α"),pe=l(C,"SUB",{"data-svelte-h":!0}),ee(pe)!=="svelte-bcb0ic"&&(pe.textContent=Te),W=y(C," = "),de=y(C,H),X=y(C,"°"),C.forEach(r),be=d(U),S=l(U,"SPAN",{class:!0});var t=T(S);we=y(t,"θ"),O=l(t,"SUB",{"data-svelte-h":!0}),ee(O)!=="svelte-jl32zd"&&(O.textContent=ae),Ee=y(t,"  = "),J=y(t,oe),Y=y(t,"°"),t.forEach(r),Ce=d(U),P=l(U,"SPAN",{class:!0});var a=T(P);Ie=y(a,"γ"),V=l(a,"SUB",{"data-svelte-h":!0}),ee(V)!=="svelte-gk2sgj"&&(V.textContent=Se),x=y(a,"  = "),ie=y(a,K),_e=y(a,"°"),a.forEach(r),U.forEach(r),g.forEach(r),this.h()},h(){s(v,"class","title svelte-1yshvwf"),s(w,"class","svelte-1yshvwf"),s(L,"class","svelte-1yshvwf"),s(M,"class","svelte-1yshvwf"),s(N,"class","svelte-1yshvwf"),s(S,"class","svelte-1yshvwf"),s(P,"class","svelte-1yshvwf"),s(i,"class","outputs svelte-1yshvwf"),s(p,"class","card svelte-1yshvwf"),qe(p,"margin-top","1rem")},m(j,g){ne(j,p,g),e(p,v),e(p,o),e(p,i),e(i,w),e(w,f),e(w,E),e(w,ue),e(w,D),e(i,F),e(i,L),e(L,k),e(L,te),e(L,ve),e(L,G),e(i,he),e(i,M),e(M,B),e(M,h),e(M,Q),e(M,q),e(i,me),e(i,N),e(N,le),e(N,pe),e(N,W),e(N,de),e(N,X),e(i,be),e(i,S),e(S,we),e(S,O),e(S,Ee),e(S,J),e(S,Y),e(i,Ce),e(i,P),e(P,Ie),e(P,V),e(P,x),e(P,ie),e(P,_e)},p(j,g){g&16&&se!==(se=j[4].a71.toFixed(4)+"")&&ye(D,se),g&16&&A!==(A=j[4].S7.toFixed(4)+"")&&ye(G,A),g&16&&re!==(re=j[4].S1.toFixed(4)+"")&&ye(q,re),g&16&&H!==(H=j[4].al71_deg.toFixed(4)+"")&&ye(de,H),g&16&&oe!==(oe=j[4].th7_deg.toFixed(4)+"")&&ye(J,oe),g&16&&K!==(K=j[4].gaml_deg.toFixed(4)+"")&&ye(ie,K)},d(j){j&&r(p)}}}function Ze(u){let p,v="Inverse Kinematics : Close-the-Loop",R,o,i="S₁ assumed to be world Z through the origin.",w,f,E,Z,ue="^6P<sub>tool</sub> (unused in minimal math)",se,D,F,L,k,te,z,ve,A,G,he="^F P<sub>tool</sub>",M,B,h,Pe,Q,re,q,me,N,le,pe="^F S6 (unused in minimal math)",Te,W,H,de,X,be,S,we,O,ae,Ee="^F a<sub>67</sub> (S7 direction)",oe,J,Y,Ce,P,Ie,V,Se,x,K,ie=u[5]?"Computing...":"Compute",_e,j,g,U,fe,ce,I=u[6]&&ze(u),C=u[4]&&Me(u);return{c(){p=n("h1"),p.textContent=v,R=_(),o=n("p"),o.textContent=i,w=_(),f=n("div"),E=n("div"),Z=n("div"),Z.innerHTML=ue,se=_(),D=n("div"),F=n("input"),L=_(),k=n("input"),te=_(),z=n("input"),ve=_(),A=n("div"),G=n("div"),G.innerHTML=he,M=_(),B=n("div"),h=n("input"),Pe=_(),Q=n("input"),re=_(),q=n("input"),me=_(),N=n("div"),le=n("div"),le.textContent=pe,Te=_(),W=n("div"),H=n("input"),de=_(),X=n("input"),be=_(),S=n("input"),we=_(),O=n("div"),ae=n("div"),ae.innerHTML=Ee,oe=_(),J=n("div"),Y=n("input"),Ce=_(),P=n("input"),Ie=_(),V=n("input"),Se=_(),x=n("div"),K=n("button"),_e=m(ie),j=_(),I&&I.c(),g=_(),C&&C.c(),U=Le(),this.h()},l(t){p=l(t,"H1",{"data-svelte-h":!0}),ee(p)!=="svelte-1pv4uqr"&&(p.textContent=v),R=d(t),o=l(t,"P",{"data-svelte-h":!0}),ee(o)!=="svelte-ies3gw"&&(o.textContent=i),w=d(t),f=l(t,"DIV",{class:!0});var a=T(f);E=l(a,"DIV",{class:!0});var Ve=T(E);Z=l(Ve,"DIV",{class:!0,"data-svelte-h":!0}),ee(Z)!=="svelte-sq0brz"&&(Z.innerHTML=ue),se=d(Ve),D=l(Ve,"DIV",{class:!0});var Ne=T(D);F=l(Ne,"INPUT",{type:!0,step:!0,class:!0}),L=d(Ne),k=l(Ne,"INPUT",{type:!0,step:!0,class:!0}),te=d(Ne),z=l(Ne,"INPUT",{type:!0,step:!0,class:!0}),Ne.forEach(r),Ve.forEach(r),ve=d(a),A=l(a,"DIV",{class:!0});var Fe=T(A);G=l(Fe,"DIV",{class:!0,"data-svelte-h":!0}),ee(G)!=="svelte-ze4f52"&&(G.innerHTML=he),M=d(Fe),B=l(Fe,"DIV",{class:!0});var Ue=T(B);h=l(Ue,"INPUT",{type:!0,step:!0,class:!0}),Pe=d(Ue),Q=l(Ue,"INPUT",{type:!0,step:!0,class:!0}),re=d(Ue),q=l(Ue,"INPUT",{type:!0,step:!0,class:!0}),Ue.forEach(r),Fe.forEach(r),me=d(a),N=l(a,"DIV",{class:!0});var ke=T(N);le=l(ke,"DIV",{class:!0,"data-svelte-h":!0}),ee(le)!=="svelte-bbrzef"&&(le.textContent=pe),Te=d(ke),W=l(ke,"DIV",{class:!0});var ge=T(W);H=l(ge,"INPUT",{type:!0,step:!0,class:!0}),de=d(ge),X=l(ge,"INPUT",{type:!0,step:!0,class:!0}),be=d(ge),S=l(ge,"INPUT",{type:!0,step:!0,class:!0}),ge.forEach(r),ke.forEach(r),we=d(a),O=l(a,"DIV",{class:!0});var Ae=T(O);ae=l(Ae,"DIV",{class:!0,"data-svelte-h":!0}),ee(ae)!=="svelte-12th9hu"&&(ae.innerHTML=Ee),oe=d(Ae),J=l(Ae,"DIV",{class:!0});var De=T(J);Y=l(De,"INPUT",{type:!0,step:!0,class:!0}),Ce=d(De),P=l(De,"INPUT",{type:!0,step:!0,class:!0}),Ie=d(De),V=l(De,"INPUT",{type:!0,step:!0,class:!0}),De.forEach(r),Ae.forEach(r),a.forEach(r),Se=d(t),x=l(t,"DIV",{style:!0});var Be=T(x);K=l(Be,"BUTTON",{class:!0});var He=T(K);_e=y(He,ie),He.forEach(r),j=d(Be),I&&I.l(Be),Be.forEach(r),g=d(t),C&&C.l(t),U=Le(),this.h()},h(){s(Z,"class","title svelte-1yshvwf"),s(F,"type","number"),s(F,"step","any"),s(F,"class","svelte-1yshvwf"),s(k,"type","number"),s(k,"step","any"),s(k,"class","svelte-1yshvwf"),s(z,"type","number"),s(z,"step","any"),s(z,"class","svelte-1yshvwf"),s(D,"class","row svelte-1yshvwf"),s(E,"class","card svelte-1yshvwf"),s(G,"class","title svelte-1yshvwf"),s(h,"type","number"),s(h,"step","any"),s(h,"class","svelte-1yshvwf"),s(Q,"type","number"),s(Q,"step","any"),s(Q,"class","svelte-1yshvwf"),s(q,"type","number"),s(q,"step","any"),s(q,"class","svelte-1yshvwf"),s(B,"class","row svelte-1yshvwf"),s(A,"class","card svelte-1yshvwf"),s(le,"class","title svelte-1yshvwf"),s(H,"type","number"),s(H,"step","any"),s(H,"class","svelte-1yshvwf"),s(X,"type","number"),s(X,"step","any"),s(X,"class","svelte-1yshvwf"),s(S,"type","number"),s(S,"step","any"),s(S,"class","svelte-1yshvwf"),s(W,"class","row svelte-1yshvwf"),s(N,"class","card svelte-1yshvwf"),s(ae,"class","title svelte-1yshvwf"),s(Y,"type","number"),s(Y,"step","any"),s(Y,"class","svelte-1yshvwf"),s(P,"type","number"),s(P,"step","any"),s(P,"class","svelte-1yshvwf"),s(V,"type","number"),s(V,"step","any"),s(V,"class","svelte-1yshvwf"),s(J,"class","row svelte-1yshvwf"),s(O,"class","card svelte-1yshvwf"),s(f,"class","grid svelte-1yshvwf"),K.disabled=u[5],s(K,"class","svelte-1yshvwf"),qe(x,"margin-top","1rem")},m(t,a){ne(t,p,a),ne(t,R,a),ne(t,o,a),ne(t,w,a),ne(t,f,a),e(f,E),e(E,Z),e(E,se),e(E,D),e(D,F),c(F,u[0][0]),e(D,L),e(D,k),c(k,u[0][1]),e(D,te),e(D,z),c(z,u[0][2]),e(f,ve),e(f,A),e(A,G),e(A,M),e(A,B),e(B,h),c(h,u[1][0]),e(B,Pe),e(B,Q),c(Q,u[1][1]),e(B,re),e(B,q),c(q,u[1][2]),e(f,me),e(f,N),e(N,le),e(N,Te),e(N,W),e(W,H),c(H,u[2][0]),e(W,de),e(W,X),c(X,u[2][1]),e(W,be),e(W,S),c(S,u[2][2]),e(f,we),e(f,O),e(O,ae),e(O,oe),e(O,J),e(J,Y),c(Y,u[3][0]),e(J,Ce),e(J,P),c(P,u[3][1]),e(J,Ie),e(J,V),c(V,u[3][2]),ne(t,Se,a),ne(t,x,a),e(x,K),e(K,_e),e(x,j),I&&I.m(x,null),ne(t,g,a),C&&C.m(t,a),ne(t,U,a),fe||(ce=[$(F,"input",u[8]),$(k,"input",u[9]),$(z,"input",u[10]),$(h,"input",u[11]),$(Q,"input",u[12]),$(q,"input",u[13]),$(H,"input",u[14]),$(X,"input",u[15]),$(S,"input",u[16]),$(Y,"input",u[17]),$(P,"input",u[18]),$(V,"input",u[19]),$(K,"click",u[7])],fe=!0)},p(t,[a]){a&1&&b(F.value)!==t[0][0]&&c(F,t[0][0]),a&1&&b(k.value)!==t[0][1]&&c(k,t[0][1]),a&1&&b(z.value)!==t[0][2]&&c(z,t[0][2]),a&2&&b(h.value)!==t[1][0]&&c(h,t[1][0]),a&2&&b(Q.value)!==t[1][1]&&c(Q,t[1][1]),a&2&&b(q.value)!==t[1][2]&&c(q,t[1][2]),a&4&&b(H.value)!==t[2][0]&&c(H,t[2][0]),a&4&&b(X.value)!==t[2][1]&&c(X,t[2][1]),a&4&&b(S.value)!==t[2][2]&&c(S,t[2][2]),a&8&&b(Y.value)!==t[3][0]&&c(Y,t[3][0]),a&8&&b(P.value)!==t[3][1]&&c(P,t[3][1]),a&8&&b(V.value)!==t[3][2]&&c(V,t[3][2]),a&32&&ie!==(ie=t[5]?"Computing...":"Compute")&&ye(_e,ie),a&32&&(K.disabled=t[5]),t[6]?I?I.p(t,a):(I=ze(t),I.c(),I.m(x,null)):I&&(I.d(1),I=null),t[4]?C?C.p(t,a):(C=Me(t),C.c(),C.m(U.parentNode,U)):C&&(C.d(1),C=null)},i:je,o:je,d(t){t&&(r(p),r(R),r(o),r(w),r(f),r(Se),r(x),r(g),r(U)),I&&I.d(),C&&C.d(t),fe=!1,Re(ce)}}}function Ge(u,p,v){const R="/api/close-loop";let o=[25,23,24],i=[.177,.884,-.433],w=[-.153,.459,.875],f=[-.153,.459,.875],E=null,Z=!1,ue="";async function se(){v(5,Z=!0),v(6,ue=""),v(4,E=null);try{const h=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({P_tool_6:o,P_tool_f:i,S6_f:w,a67_f:f})});if(!h.ok)throw new Error(`HTTP ${h.status}`);v(4,E=await h.json())}catch(h){v(6,ue=h&&h.message?h.message:String(h))}finally{v(5,Z=!1)}}function D(){o[0]=b(this.value),v(0,o)}function F(){o[1]=b(this.value),v(0,o)}function L(){o[2]=b(this.value),v(0,o)}function k(){i[0]=b(this.value),v(1,i)}function te(){i[1]=b(this.value),v(1,i)}function z(){i[2]=b(this.value),v(1,i)}function ve(){w[0]=b(this.value),v(2,w)}function A(){w[1]=b(this.value),v(2,w)}function G(){w[2]=b(this.value),v(2,w)}function he(){f[0]=b(this.value),v(3,f)}function M(){f[1]=b(this.value),v(3,f)}function B(){f[2]=b(this.value),v(3,f)}return[o,i,w,f,E,Z,ue,se,D,F,L,k,te,z,ve,A,G,he,M,B]}class Xe extends Oe{constructor(p){super(),Je(this,p,Ge,Ze,Ke,{})}}export{Xe as component};
